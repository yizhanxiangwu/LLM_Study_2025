**概率流（Probability Flow）**

是用来描述概率分布随“时间”或“状态”连续变化的方式。
它用数学公式把“概率质量”从一个地方流向另一个地方，直观上像流体的流动。

---

### 直观解释

- **假设有一堆小球**（代表概率），这些小球分布在某个区域。
- 随着时间变化，这些小球会“流动”，它们的分布形状也在变化。
- “小球流动的方向和速度”就是概率流。

---

### 数学定义

概率流通常用一个**速度场** $v(x, t)$ 表示，描述数据点 $x$ 在时间 $t$ 时的流动速度和方向。
它的演化满足下面的常微分方程（ODE）：

$$
\frac{dx}{dt} = v(x, t)

$$

如果有很多点，每个点都会根据 $v(x, t)$ 在空间中移动——这就形成了概率流。

---

### 概率密度的演化

概率密度 $p_t(x)$ 随时间变化的规律，会满足“连续性方程”（continuity equation）：

$$
\frac{\partial p_t(x)}{\partial t} + \nabla \cdot (p_t(x) \, v(x, t)) = 0

$$

它的意思是：

> 概率“不会消失也不会凭空产生”，只会从一个位置流向另一个位置。

---

### 在生成建模中的作用

比如在流模型（flow-based model）或者 flow matching 里，我们希望把一个简单分布（比如高斯噪声）**连续地流动**成目标分布（比如真实图片）。
过程中每一时刻的“流动方向”由模型（如神经网络）去拟合。

---

### 总结

- 概率流 = 概率分布随时间演化的方向和速度
- 数学上常用 ODE（常微分方程）和速度场 $v(x, t)$ 描述
- 直观上像“概率小球”随着时间流动，最后分布成我们想要的数据

> 我的思考

> 概率流就是“以 x(t) 为未知函数、以 **t** 为自变量、右侧一般是复杂函数 v(x,t) 的**一阶常微分方程（ODE）**” 例如：dx/dt = x+2t，注意他一定不是一条线。
